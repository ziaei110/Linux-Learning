```markdown
# 🧩 جلسه سوم: مجوزهای فایل‌ها و مدیریت دسترسی‌ها در لینوکس

## 🎯 هدف جلسه
در این جلسه با مفاهیم **مجوزهای فایل** و نحوه مدیریت دسترسی‌ها در لینوکس آشنا می‌شویم:
1. آشنایی با مجوزهای خواندن، نوشتن و اجرا
2. تغییر مجوزها با استفاده از دستورات `chmod` و `chown`
3. مدیریت دسترسی به فایل‌ها و پوشه‌ها

---

## 🔐 مجوزهای فایل‌ها

در لینوکس، هر فایل یا پوشه دارای **سه نوع مجوز** برای دسترسی است:
1. **خواندن (r)**: توانایی مشاهده محتوای فایل.
2. **نوشتن (w)**: توانایی تغییر یا ویرایش فایل.
3. **اجرا (x)**: توانایی اجرای فایل (برای فایل‌های برنامه‌نویسی یا اسکریپت‌ها).

### انواع دسترسی‌ها
- **مالک (Owner)**: فردی که فایل یا پوشه را ایجاد کرده است.
- **گروه (Group)**: گروهی از کاربران که دسترسی مشابه به فایل دارند.
- **دیگران (Others)**: تمام کاربران دیگر که نه مالک‌اند و نه عضو گروه.

---

## 📝 مشاهده مجوزهای فایل‌ها با دستور `ls -l`

برای مشاهده‌ی مجوزهای یک فایل یا پوشه، از دستور `ls -l` استفاده می‌کنیم:

```bash
ls -l
```

خروجی نمونه:

```
-rwxr-xr-x 1 user group 4096 Apr 7 12:34 example.sh
```

در اینجا:
- `rwx` برای مالک (خواندن، نوشتن، اجرا)
- `r-x` برای گروه (خواندن، اجرا)
- `r-x` برای دیگران (خواندن، اجرا)

---

## 🔧 تغییر مجوزهای فایل با دستور `chmod`

دستور `chmod` برای تغییر مجوزهای فایل‌ها یا پوشه‌ها استفاده می‌شود.

### فرمت دستور:

```bash
chmod [options] permissions file
```

- **permissions**: مجموعه‌ای از مجوزها که می‌خواهید به فایل اعمال کنید (مثلاً `rwx`).
- **file**: نام فایل یا پوشه.

### مثال‌ها:

1. دادن مجوز **اجرای** فایل به دیگران:
   ```bash
   chmod o+x example.sh
   ```

2. حذف مجوز **نوشتن** از گروه:
   ```bash
   chmod g-w example.txt
   ```

3. دادن مجوز **خواندن و نوشتن** به مالک و گروه:
   ```bash
   chmod ug+rw example.txt
   ```

4. تنظیم مجوزها به طور کامل به صورت عددی:
   ```bash
   chmod 755 example.sh
   ```

در سیستم لینوکس، مجوزها به صورت عددی نیز قابل تنظیم هستند:
- **7** (rwx) = خواندن، نوشتن، اجرا
- **6** (rw-) = خواندن، نوشتن
- **5** (r-x) = خواندن، اجرا
- **4** (r--) = خواندن
- **3** (wx-) = نوشتن، اجرا
- **2** (w--) = نوشتن
- **1** (x--) = اجرا
- **0** (---) = هیچ مجوزی

---

## 👥 تغییر مالکیت فایل با دستور `chown`

دستور `chown` برای تغییر مالک و گروه یک فایل یا پوشه استفاده می‌شود.

### فرمت دستور:

```bash
chown [options] owner:group file
```

- **owner**: نام کاربر جدید مالک فایل.
- **group**: گروه جدید برای فایل.
- **file**: نام فایل یا پوشه.

### مثال‌ها:

1. تغییر مالکیت فایل به کاربر `john` و گروه `admins`:
   ```bash
   chown john:admins example.txt
   ```

2. تغییر فقط مالک فایل:
   ```bash
   chown john example.txt
   ```

3. تغییر فقط گروه فایل:
   ```bash
   chown :admins example.txt
   ```

---

## 📂 بررسی و تغییر مجوزها و مالکیت پوشه‌ها

### بررسی مجوزهای پوشه:
برای مشاهده مجوزهای یک پوشه (و محتوای درون آن)، از دستور `ls -l` یا `ls -ld` استفاده می‌کنیم:

```bash
ls -ld example_folder
```

### تغییر مجوزها و مالکیت پوشه:
اگر می‌خواهید مجوزها یا مالکیت را برای یک پوشه و تمام محتویات آن تغییر دهید، از گزینه `-R` برای انجام تغییرات به صورت بازگشتی استفاده کنید:

1. تغییر مجوزها برای پوشه و تمام فایل‌های داخل آن:
   ```bash
   chmod -R u+rw example_folder
   ```

2. تغییر مالکیت برای پوشه و تمام فایل‌های داخل آن:
   ```bash
   chown -R john:admins example_folder
   ```

---

## 🎯 تمرین عملی

1. یک فایل با نام `testfile.txt` بسازید و مجوزهای آن را با استفاده از دستور `ls -l` مشاهده کنید.
2. به فایل `testfile.txt` مجوز **خواندن و نوشتن** برای گروه بدهید.
3. مجوز **اجرا** را برای فایل به همه کاربران (Others) اضافه کنید.
4. مالکیت فایل را به کاربر دیگری تغییر دهید و دوباره مجوزهای آن را بررسی کنید.
5. یک پوشه بسازید و با استفاده از دستورات `chmod` و `chown`، مجوزها و مالکیت آن را تغییر دهید.

---

## 🧰 ابزارهای مفید در ترمینال

| دستور            | توضیح                                                 |
|-------------------|--------------------------------------------------------|
| `ls -l`           | نمایش لیست فایل‌ها به همراه مجوزها و مالکیت‌ها        |
| `chmod`           | تغییر مجوزهای فایل یا پوشه                            |
| `chown`           | تغییر مالک و گروه فایل یا پوشه                        |
| `stat`            | نمایش جزئیات دقیق درباره یک فایل یا پوشه             |
| `umask`           | تنظیم پیش‌فرض مجوزهای فایل‌های جدید ساخته شده       |

---

## 📚 منابع پیشنهادی

- [Linux File Permissions - Linux Documentation Project](https://www.tldp.org/LDP/intro-linux/html/)
- [chmod Manual - GNU](https://www.gnu.org/software/coreutils/manual/html_node/chmod-invocation.html)
```

---

این جلسه شامل **مجوزهای فایل**، **دستورات تغییر مالکیت و مجوزها** و **تمرین‌های عملی** است که به شما کمک می‌کنه با مفاهیم و ابزارهای مدیریت دسترسی‌ها آشنا بشید.

در جلسه بعدی به موضوعاتی مثل **ساختار فایل‌سیستم لینوکس** یا **مدیریت فرایندها** می‌پردازیم.
